#chat {
  position : absolute;
  padding  : 2em 0 1em 0;
  top      : 0;
  bottom   : 0;
  width    : 100%;
  
  overflow-x : hidden;
  overflow-y : auto;
  
  -webkit-mask : no-repeat top -webkit-gradient(linear, center top, center bottom, from(transparent), color-stop(20%, black) );
  
  & > * {
    
    /* message sigils */
    &.consecutive > .meta .marker:after { content : '\2761' }
    &.action      > .meta .marker:after { content : '\2767' !important }
    &.status      > .meta .marker:after,
    &.event       > .meta .marker:after { content : '\2740' }
    
    /* show timestamp on mouseover */
    &       > .meta      .alt  { opacity : 0.0 }
    &       > .meta :not(.alt) { opacity : 1.0 }
    &:hover > .meta      .alt  { opacity : 1.0 }
    &:hover > .meta :not(.alt) { opacity : 0.0 }
    
    /* hide the sender in action and consecutive messages */
    &.consecutive, &.action {
      & > .meta .sender { display : none }
    }
    
    &.action > .content .sender { font-weight : bold }
    
    & > .meta {
      float : left;
      width : 5.5em;
      
      * {
        float   : left;
        margin  : -8px 0;
        padding :  8px 0;
        width   : 100%;
        
        text-align  : right;
        font-size   : small;
        font-weight : bold;
        
        -webkit-transition : opacity 0.4s linear;
      }
      
      & > .alt        { margin-right : -100% }
      & > .alt + .alt { margin-left  :  100% }
      
      .sender_id { display : none }
      
      .sender {
        
        overflow      : hidden;
        text-overflow : ellipsis;
        white-space   : nowrap;
      }
      
      .marker {
        font-family : 'Code 2000', 'Zapf Dingbats';
        font-size   : large  !important;
        font-weight : normal !important;
      }
    }
    
    & > .content {
      margin : 0 6em;
      
      text-align : justify;
      word-wrap  : break-word;
    }
    
    &.outgoing {
      .glowing-text(@outgoing-color, @outgoing-color);
    }
    
    &.incoming {
      .glowing-text(@incoming-color, @incoming-color);
    }
    
    &.history {
      opacity : 0.5;
    }
    
    &.status, &.event {
      .glowing-text(@event-color, @event-shadow);
      
      margin  : 0.5em 1em;
      padding : 0.5em 0;
      
      background : @event-background;
      
      -webkit-border-radius : 5px;
      
      & > .content {
        text-indent : 1em;
        font-style  : italic;
      }
    }
    
    &.away {
      .glowing-text(@away-color, @away-shadow);
    }
    
    &.idle {
      .glowing-text(@idle-color, @idle-shadow);
    }
    
    &.offline {
      .glowing-text(@offline-color, @offline-shadow);
    }
    
    &.contact_left {
      .glowing-text(@depart-color, @depart-shadow);
    }
    
    &.online {
      .glowing-text(@online-color, @online-shadow);
    }
    
    &.contact_joined {
      .glowing-text(@join-color, @join-shadow);
    }
    
    &.error {
      .glowing-text(@error-color, @error-shadow);
    }
    
    &.timed_out {
      .glowing-text(@time-out-color, @time-out-shadow);
    }
    
    &.return_away,  {
      .glowing-text(@return-away-color, @return-away-shadow);
    }
    
    &.return_idle {
      .glowing-text(@return-idle-color, @return-idle-shadow);
    }
  }
}
