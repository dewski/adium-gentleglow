#gg-chatBuffer {
  position : absolute;
  padding  : 2em 0 2em 0;
  top      : 0;
  bottom   : 0;
  width    : 100%;
  
  overflow-x : hidden;
  overflow-y : auto;
  
  -webkit-mask : no-repeat top -webkit-gradient(linear, center top, center bottom, from(transparent), color-stop(20%, black) );
}

#gg-chatQuickScroller {
  position : fixed;
  right    : 2em;
  bottom   : 2em;
  width    : 2em;
  height   : 2em;
  
  opacity : 0.5;
  
  background-color    : @ui-panel-background;
  background-image    : url("../images/arrow_down.png");
  background-repeat   : no-repeat;
  background-position : center;
  background-size     : 100%;
  
  -webkit-transition:
    opacity 200ms ease-in-out;
  
  &:hover {
    opacity: 1;
  }
}

.gg-message {
    
  /* message sigils */
  &.consecutive .gg-messageMarker:after { content : '\2761' }
  &.action      .gg-messageMarker:after { content : '\2767' !important }
  &.status      .gg-messageMarker:after,
  &.event       .gg-messageMarker:after { content : '\2740' }
  
  /* hide the sender in action and consecutive messages */
  &.consecutive .gg-messageSender,
  &.action      .gg-messageSender { display : none }
  
  /* primary (left side) message info box */
  .gg-messageInfo {
    float : left;
    width : 5.5em;
    
    * {
      float   : left;
      width   : 100%;
      
      text-align  : right;
      font-size   : small;
      font-weight : bold;
      
      overflow      : hidden;
      text-overflow : ellipsis;
      white-space   : nowrap;
    }
    
    .gg-messageSenderId { display : none }
    
    .gg-messageMarker {
      font-family : 'Code 2000', 'Zapf Dingbats';
      font-size   : large  !important;
      font-weight : normal !important;
    }
  }
  
  /* secondary (right side) message info box */
  .gg-messageInfo + .gg-messageInfo {
    -webkit-transition:
      opacity 0.4s linear;
    
    float   : right;
    opacity : 0.0;
  }
  
  /* show secondary info on recent messages */
  &:nth-last-child(1) .gg-messageInfo + .gg-messageInfo { opacity: 0.9 }
  &:nth-last-child(2) .gg-messageInfo + .gg-messageInfo { opacity: 0.7 }
  &:nth-last-child(3) .gg-messageInfo + .gg-messageInfo { opacity: 0.5 }
  &:nth-last-child(4) .gg-messageInfo + .gg-messageInfo { opacity: 0.3 }
  &:nth-last-child(5) .gg-messageInfo + .gg-messageInfo { opacity: 0.1 }
  
  /* show scondary info on mouseover */
  &:hover .gg-messageInfo + .gg-messageInfo { opacity : 1.0 !important }
  
  /* message body */
  .gg-messageBody {
    margin : 0 6em;
    
    text-align : justify;
    word-wrap  : break-word;
    
    .actionMessageUserName { font-weight : bold }
    
    img {
      max-width : 100%;
      height    : auto;
    }
  }
  
  &.history { opacity : 0.5 }
  
  &.status, &.event {
    .fx-glowingText(@event-color, @event-shadow);
    
    margin  : 0.5em 1em;
    padding : 0.5em 0;
    
    background : @event-background;
    
    -webkit-border-radius : 5px;
    
    & > .gg-messageBody {
      text-indent : 1em;
      font-style  : italic;
    }
  }
  
  /* text colors for message types */
  &.outgoing       { .fx-glowingText(@outgoing-color,    @outgoing-shadow)    }
  &.incoming       { .fx-glowingText(@incoming-color,    @incoming-shadow)    }
  &.away           { .fx-glowingText(@away-color,        @away-shadow)        }
  &.idle           { .fx-glowingText(@idle-color,        @idle-shadow)        }
  &.offline        { .fx-glowingText(@offline-color,     @offline-shadow)     }
  &.contact_left   { .fx-glowingText(@depart-color,      @depart-shadow)      }
  &.online         { .fx-glowingText(@online-color,      @online-shadow)      }
  &.contact_joined { .fx-glowingText(@join-color,        @join-shadow)        }
  &.error          { .fx-glowingText(@error-color,       @error-shadow)       }
  &.timed_out      { .fx-glowingText(@time-out-color,    @time-out-shadow)    }
  &.return_away    { .fx-glowingText(@return-away-color, @return-away-shadow) }
  &.return_idle    { .fx-glowingText(@return-idle-color, @return-idle-shadow) }
  
  /* color strips for ops &c. */
  &.half-op     .gg-messageInfo + .gg-messageInfo { border-left: 1px solid @half-op-color }
  &.roomFounder .gg-messageInfo + .gg-messageInfo { border-left: 1px solid @founder-color }
  // TODO the rest of these when I discover them because like hell Adium has any documentation
}
