#chat {
  position : absolute;
  padding  : 2em 0 2em 0;
  top      : 0;
  bottom   : 0;
  width    : 100%;
  
  overflow-x : hidden;
  overflow-y : auto;
  
  -webkit-mask : no-repeat top -webkit-gradient(linear, center top, center bottom, from(transparent), color-stop(20%, black) );
  
  & > * {
    
    /* message sigils */
    &.consecutive > .gg-messageInfo .gg-messageMarker:after { content : '\2761' }
    &.action      > .gg-messageInfo .gg-messageMarker:after { content : '\2767' !important }
    &.status      > .gg-messageInfo .gg-messageMarker:after,
    &.event       > .gg-messageInfo .gg-messageMarker:after { content : '\2740' }
    
    /* show timestamp on mouseover */
    &       > .gg-messageInfo      .alt  { opacity : 0.0 }
    &       > .gg-messageInfo :not(.alt) { opacity : 1.0 }
    &:hover > .gg-messageInfo      .alt  { opacity : 1.0 }
    &:hover > .gg-messageInfo :not(.alt) { opacity : 0.0 }
    
    /* hide the sender in action and consecutive messages */
    &.consecutive, &.action {
      & > .gg-messageInfo .gg-messageSender { display : none }
    }
    
    &.action > .gg-messageContent .gg-messageSender { font-weight : bold }
    
    & > .gg-messageInfo {
      float : left;
      width : 5.5em;
      
      * {
        float   : left;
        margin  : -8px 0;
        padding :  8px 0;
        width   : 100%;
        
        text-align  : right;
        font-size   : small;
        font-weight : bold;
        
        -webkit-transition : opacity 0.4s linear;
      }
      
      & > .alt        { margin-right : -100% }
      & > .alt + .alt { margin-left  :  100% }
      
      .gg-messageSenderId { display : none }
      
      .gg-messageSender {
        
        overflow      : hidden;
        text-overflow : ellipsis;
        white-space   : nowrap;
      }
      
      .gg-messageMarker {
        font-family : 'Code 2000', 'Zapf Dingbats';
        font-size   : large  !important;
        font-weight : normal !important;
      }
    }
    
    & > .gg-messageContent {
      margin : 0 6em;
      
      text-align : justify;
      word-wrap  : break-word;
      
      img {
        max-width : 100%;
        height    : auto;
      }
    }
    
    &.outgoing {
      .fx-glowingText(@outgoing-color, @outgoing-shadow);
    }
    
    &.incoming {
      .fx-glowingText(@incoming-color, @incoming-shadow);
    }
    
    &.history {
      opacity : 0.5;
    }
    
    &.status, &.event {
      .fx-glowingText(@event-color, @event-shadow);
      
      margin  : 0.5em 1em;
      padding : 0.5em 0;
      
      background : @event-background;
      
      -webkit-border-radius : 5px;
      
      & > .gg-messageContent {
        text-indent : 1em;
        font-style  : italic;
      }
    }
    
    &.away {
      .fx-glowingText(@away-color, @away-shadow);
    }
    
    &.idle {
      .fx-glowingText(@idle-color, @idle-shadow);
    }
    
    &.offline {
      .fx-glowingText(@offline-color, @offline-shadow);
    }
    
    &.contact_left {
      .fx-glowingText(@depart-color, @depart-shadow);
    }
    
    &.online {
      .fx-glowingText(@online-color, @online-shadow);
    }
    
    &.contact_joined {
      .fx-glowingText(@join-color, @join-shadow);
    }
    
    &.error {
      .fx-glowingText(@error-color, @error-shadow);
    }
    
    &.timed_out {
      .fx-glowingText(@time-out-color, @time-out-shadow);
    }
    
    &.return_away,  {
      .fx-glowingText(@return-away-color, @return-away-shadow);
    }
    
    &.return_idle {
      .fx-glowingText(@return-idle-color, @return-idle-shadow);
    }
  }
}
